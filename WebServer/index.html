<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Login</title>
    <style>
      #divClock{
        font-size: 12px;
        color: rgb(255, 255, 255);
      }
      html,body {
          background: #131722!important;
          color: #fff!important;
          margin: 0px!important;
      }
      .ui.grid {
        margin-top: 0rem!important;
        margin-bottom: 0rem!important;
        margin-left: 0rem!important;
        margin-right: 0rem!important;
      }
      body > .grid {
        height: 100%;
      }
      /* .image {
        margin-top: -100px;
      } */
      /* .column {
        max-width: 450px;
      } */
      .colorWhite {
        color : white!important;
      }
      .ui.basic.black.mini.button {
        box-shadow: 0px 0px 0px 1px #515151!important;
        color: #ffffff !important
      }
      .ui.fluid.inverted.large.submit.button {
        box-shadow: 0px 0px 0px 1px #FFFFFF inset !important;
        background: transparent none;
        color: #FFFFFF;
        text-shadow: none !important;
      }
      .ui.fluid.inverted.large.submit.button:hover {
        background: #FFFFFF;
        box-shadow: 0px 0px 0px 2px #FFFFFF inset !important;
        color: rgba(0, 0, 0, 0.8);
      }
    </style>
    <link rel="stylesheet" type="text/css" href="asset/css/semantic.css">
    <script
      src="https://code.jquery.com/jquery-3.1.1.min.js"
      integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
      crossorigin="anonymous"></script>
    <script src="asset/js/semantic.js"></script>
    <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- (2) LoginWithNaverId Javscript SDK -->
	  <script src="asset/js/naveridlogin_js_sdk_2.0.2.js"></script>
    <script type="text/javascript">


      window.addEventListener('DOMContentLoaded', function()
      {

        //https://tyrannocoding.tistory.com/51 <-- SSO ë¡œê·¸ì¸ êµ¬í˜„ë°©ë²• ì½ì–´ë³´ê¸°!
        //-------------------------------------------------------;
        //-------------------------------------------------------;
        //-------------------------------------------------------;
        //REGEX;
        //-------------------------------------------------------;
        //-------------------------------------------------------;
        //-------------------------------------------------------;

        //-------------------------------------------------------;
        //-------------------------------------------------------;
        //-------------------------------------------------------;
        //DOM element;
        //-------------------------------------------------------;
        //-------------------------------------------------------;
        //-------------------------------------------------------;

        window.el = {};
        window.el.input = {};
        // window.el.input.email = window.document.getElementById("inputEmail");
        // window.el.input.password = window.document.getElementById("inputPassword");

        window.el.btn = {}


        window.el.div = {}
        window.el.div.container = window.document.getElementById("container");

        window.evt = {}

        //-------------------------------------------------------;
        //-------------------------------------------------------;
        //-------------------------------------------------------;
        //Functions;
        //-------------------------------------------------------;
        //-------------------------------------------------------;
        //-------------------------------------------------------;


        function deleteCookie(name) {
          return window.document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';
        }

        function showClock(){
          var currentDate = new Date();
          var divClock = document.getElementById('divClock');
          var msg = "í˜„ì¬ ì‹œê°„ : ";
          if(currentDate.getHours()>12){      //ì‹œê°„ì´ 12ë³´ë‹¤ í¬ë‹¤ë©´ ì˜¤í›„ ì•„ë‹ˆë©´ ì˜¤ì „
            msg += "ì˜¤í›„ ";
            msg += currentDate.getHours()-12+"ì‹œ ";
          }
          else
          {
            msg += "ì˜¤ì „ ";
            msg += currentDate.getHours()+"ì‹œ ";
          }
    
          msg += currentDate.getMinutes()+"ë¶„ ";
          msg += currentDate.getSeconds()+"ì´ˆ";
    
          divClock.innerText = msg;
    
            if (currentDate.getMinutes()>58)
            {   
              //ì •ê° 1ë¶„ì „ë¶€í„° ë¹¨ê°•ìƒ‰ìœ¼ë¡œ ì¶œë ¥
              divClock.style.color="red";
            }
            setTimeout(showClock,1000);  //1ì´ˆë§ˆë‹¤ ê°±ì‹ 
        }

        var checkEmail = function(str){
          let regex = new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)          
          console.log(regex.test(str));

          return regex.test(str)
          
        }

        function getCookieToObject(){
          var _x = document.cookie.split( "; " );
          var i = 0,iLen = _x.length,io;
          var r = {};
          for(;i<iLen;++i){
            io = _x[ i ].split("=");
            r[ io[ 0 ] ] = io[ 1 ];
          }
          
          console.log( r );
          window._t = {};
          window._t.cookie = r;
          return r;
        }

        var htmlToElement = function( html ){
          var template = document.createElement('template');
          html = html.trim(); // Never return a text node of whitespace as the result
          template.innerHTML = html;
          return template.content.firstChild;
        }

        var renderBeforeLogin = function(){

          var html = `
          <div class="column" style="max-width: 450px;">
            <h2 class="ui white header">
              <div class="content">
                <!-- <div>ğŸ”‘</div> -->
                <div class="colorWhite">ë¡œê·¸ì¸</div>
                <div id="divClock" class="clock"></div>
              </div>
            </h2>
            <div class="content">
              <button id="google" class="ui black basic mini button">
                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="28" height="28" viewBox="0 0 48 48"><path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path><path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path><path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path><path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path></svg>
              </button>

              <button id="facebook" class="ui black basic mini button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="#1877F2" d="M14 4a10 10 0 011.56 19.88v-6.99h2.33l.45-2.89h-2.78v-1.88c0-.79.39-1.56 1.63-1.56h1.26V8.1s-1.14-.2-2.24-.2c-2.28 0-3.77 1.4-3.77 3.9V14H9.9v2.9h2.54v6.98A10.01 10.01 0 0114 4z"></path></svg>
              </button>

              <button id="twitter" class="ui black basic mini button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M19.75 5h3.07l-6.7 7.62L24 23h-6.17l-4.84-6.3L7.46 23H4.4l7.17-8.16L4 5h6.33l4.37 5.75L19.75 5Zm-1.24 16h1.7L9.54 7H7.7l10.8 14Z"></path></svg>
              </button>

              <button id="yahoo" class="ui black basic mini button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="#6001D2" d="M11.05 18.42L5 4h5.58l3.26 8.37L17.56 4h5.11L14.3 24H8.72l2.33-5.58z"></path></svg>
              </button>
              
              <button id="naverIdLogin" class="ui black basic mini button">
                <a id="naverIdLogin_loginButton" href="/api/oauth/naver" role="button">  
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="#55BA4D" d="M6 6v16h5.33v-8l5.34 8H22V6h-5.33v7.82L11.33 6"></path></svg>
                  </a>
                </button>

              <button id="kakao" class="ui black basic mini button">
                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="28" height="28" viewBox="0 0 48 48">
                  <linearGradient id="_rH8YBooyc-uwdwnRIye-a_esc0dlSS0IwW_gr1" x1="24" x2="24" y1="11.848" y2="61.644" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fed100"></stop><stop offset="1" stop-color="#e38101"></stop></linearGradient><path fill="url(#_rH8YBooyc-uwdwnRIye-a_esc0dlSS0IwW_gr1)" d="M35,42H13c-3.866,0-7-3.134-7-7V13c0-3.866,3.134-7,7-7h22c3.866,0,7,3.134,7,7v22	C42,38.866,38.866,42,35,42z"></path><path d="M24,12c7.732,0,14,5.033,14,11.242s-6.268,11.242-14,11.242c-1.012,0-1.997-0.091-2.949-0.255l-5.615,3.713 C15.377,37.982,15.314,38,15.252,38c-0.206,0-0.389-0.198-0.32-0.427l1.479-4.892C12.557,30.679,10,27.203,10,23.242 C10,17.033,16.268,12,24,12 M24,11c-8.271,0-15,5.492-15,12.242c0,3.964,2.31,7.622,6.221,9.922l-1.246,4.119 c-0.123,0.406-0.049,0.835,0.203,1.174C14.43,38.797,14.831,39,15.252,39c0.261,0,0.516-0.077,0.736-0.223l5.289-3.498 c0.906,0.136,1.82,0.205,2.723,0.205c8.271,0,15-5.492,15-12.242C39,16.492,32.271,11,24,11L24,11z" opacity=".05"></path><path d="M24,12c7.732,0,14,5.033,14,11.242s-6.268,11.242-14,11.242c-1.012,0-1.997-0.091-2.949-0.255l-5.615,3.713 C15.377,37.982,15.314,38,15.252,38c-0.206,0-0.389-0.198-0.32-0.427l1.479-4.892C12.557,30.679,10,27.203,10,23.242 C10,17.033,16.268,12,24,12 M24,11.5c-7.995,0-14.5,5.268-14.5,11.742c0,3.896,2.352,7.49,6.315,9.686l-1.361,4.5 c-0.077,0.254-0.031,0.521,0.125,0.732c0.158,0.213,0.409,0.34,0.673,0.34c0.163,0,0.322-0.048,0.46-0.14l5.451-3.605 c0.944,0.152,1.897,0.229,2.837,0.229c7.995,0,14.5-5.268,14.5-11.742C38.5,16.768,31.995,11.5,24,11.5L24,11.5z" opacity=".07"></path><path fill="#343434" d="M24,12c-7.732,0-14,5.033-14,11.242c0,3.961,2.557,7.436,6.412,9.439l-1.479,4.892	c-0.09,0.297,0.244,0.542,0.504,0.37l5.615-3.713c0.951,0.164,1.937,0.255,2.949,0.255c7.732,0,14-5.033,14-11.242S31.732,12,24,12z"></path><linearGradient id="_rH8YBooyc-uwdwnRIye-b_esc0dlSS0IwW_gr2" x1="16.364" x2="16.364" y1="11.848" y2="61.644" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fed100"></stop><stop offset="1" stop-color="#e38101"></stop></linearGradient><path fill="url(#_rH8YBooyc-uwdwnRIye-b_esc0dlSS0IwW_gr2)" d="M18.91,20.636 c0-0.351-0.285-0.636-0.636-0.636h-3.818c-0.351,0-0.636,0.285-0.636,0.636c0,0.351,0.285,0.636,0.636,0.636h1.273v5.091 c0,0.351,0.285,0.636,0.636,0.636c0.351,0,0.636-0.285,0.636-0.636v-5.091h1.273C18.625,21.273,18.91,20.988,18.91,20.636z"></path><linearGradient id="_rH8YBooyc-uwdwnRIye-c_esc0dlSS0IwW_gr3" x1="31.636" x2="31.636" y1="11.848" y2="61.644" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fed100"></stop><stop offset="1" stop-color="#e38101"></stop></linearGradient><path fill="url(#_rH8YBooyc-uwdwnRIye-c_esc0dlSS0IwW_gr3)" d="M34.045,25.97l-2.359-3.002 c-0.008-0.011-0.021-0.015-0.03-0.025l1.857-1.857c0.249-0.248,0.249-0.651,0-0.9c-0.248-0.249-0.651-0.249-0.9,0l-2.249,2.249 v-1.799c0-0.351-0.285-0.636-0.636-0.636s-0.636,0.285-0.636,0.636v5.727c0,0.351,0.285,0.636,0.636,0.636s0.636-0.285,0.636-0.636 v-2.135c0.007-0.006,0.016-0.008,0.022-0.015l0.369-0.369l2.29,2.913c0.217,0.276,0.617,0.324,0.893,0.107 S34.262,26.246,34.045,25.97z"></path><linearGradient id="_rH8YBooyc-uwdwnRIye-d_esc0dlSS0IwW_gr4" x1="26.545" x2="26.545" y1="11.848" y2="61.644" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fed100"></stop><stop offset="1" stop-color="#e38101"></stop></linearGradient><path fill="url(#_rH8YBooyc-uwdwnRIye-d_esc0dlSS0IwW_gr4)" d="M27.818,25.727h-1.909v-5.09 c0-0.351-0.285-0.636-0.636-0.636s-0.636,0.285-0.636,0.636v5.727c0,0.351,0.285,0.636,0.636,0.636h2.545 c0.351,0,0.636-0.285,0.636-0.636C28.454,26.012,28.169,25.727,27.818,25.727z"></path><linearGradient id="_rH8YBooyc-uwdwnRIye-e_esc0dlSS0IwW_gr5" x1="21.136" x2="21.136" y1="11.848" y2="61.644" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fed100"></stop><stop offset="1" stop-color="#e38101"></stop></linearGradient><path fill="url(#_rH8YBooyc-uwdwnRIye-e_esc0dlSS0IwW_gr5)" d="M21.908,20.409 c-0.092-0.241-0.316-0.389-0.559-0.4c-0.071-0.003-0.344-0.002-0.408-0.001c-0.249,0.004-0.482,0.153-0.576,0.401l-2.05,5.727 c-0.126,0.328,0.038,0.696,0.367,0.822c0.328,0.126,0.696-0.038,0.822-0.367l0.309-0.864h2.647l0.309,0.864 c0.126,0.328,0.494,0.492,0.822,0.367c0.328-0.125,0.492-0.494,0.366-0.822L21.908,20.409z M20.269,24.454l0.868-2.426l0.868,2.426 H20.269z"></path>
                </svg>
              </button>

            </div>
            <div class="ui horizontal divider colorWhite">
              ë˜ëŠ”
            </div>
            <div id='message'></div>
      <div id='button_area'></div>
            <div id="btnEmailLogin" class="ui fluid inverted large submit button">ì´ë©”ì¼ë¡œ ë¡œê·¸ì¸</div>
              <div id="btnJoin" class="ui message">
              ì–´ì¹´ìš´íŠ¸ê°€ ì—†ë‚˜ìš”? <a href="#">Sign Up</a>
              </div>
            </div>
          </div>
          `
          window.el.div.container.innerHTML = html;

          //event;
          window.el.btn.emaillogin = window.document.getElementById("btnEmailLogin");
          window.el.btn.join = window.document.getElementById("btnJoin"); 

          // window.evt.btnLoginClick();
          // window.evt.btnJoinClick();

         // window.evt.btnLoginClick = function(){
            window.el.btn.emaillogin.addEventListener("click",function(evt){
            
              console.log( "window.el.btn.join - click!" )
              window.location.href = "/html/emailLogin.html"

            })
         // }        
          
         // window.evt.btnJoinClick = function(){
            window.el.btn.join.addEventListener("click",function(evt){
              console.log( "window.el.btn.join - click!" )
              window.location.href = "/html/join.html"
            })
         // }      
         showClock();
        }
        var renderAfterLogin = function(){
          var userId = window.localStorage.getItem("userId")
          var name = window.localStorage.getItem("name")

          var html = `
          <div class="column" style="max-width: 450px;">
            <h2 class="ui white header">
              <div class="content">
                <!-- <div>ğŸ”‘</div> -->
                <div class="colorWhite">ë¡œê·¸ì¸ë˜ì–´ìˆìŒ</div>
                <div id="divClock" class="clock"></div>
              </div>
            </h2>
            <div class="content">
              <div>íšŒì›ì •ë³´</div>
              ${userId}<br>
              ${name}
            </div>
            <div class="ui horizontal divider colorWhite">
              ë¡œê·¸ì•„ì›ƒí• ê±°ì—ìš”~
            </div>
            <div id="logout" class="ui fluid inverted large submit button">ë¡œê·¸ì•„ì›ƒ</div>
            </div>
          </div>
          `
          window.el.div.container.innerHTML = html;

          //event;
          window.el.btn.logout = window.document.getElementById("logout");

          // window.evt.btnLoginClick();
          // window.evt.btnJoinClick();

          // window.evt.btnLoginClick = function(){
          window.el.btn.logout.addEventListener("click",function(evt){
          
            console.log( "window.el.btn.logout - click!" )
            window.localStorage.removeItem("email");
            deleteCookie( 'sid' )
            renderBeforeLogin();

          })
          // }              
        }
        getCookieToObject();
        if( !window._t.cookie[ "sid" ] ) renderBeforeLogin();
        else renderAfterLogin();

        //-------------------------------------------------------;
        //-------------------------------------------------------;
        //-------------------------------------------------------;
        //Event;
        //-------------------------------------------------------;
        //-------------------------------------------------------;
        //-------------------------------------------------------;
    //     const naverLogin = new naver.LoginWithNaverId(
    //     {
    //       clientId: "M8iKRLr_1Ld0T3nVxeV_",
    //       callbackUrl: "http://localhost:8889",
    //       //loginButton: {color: "green", type: 2, height: 40}
    //       }
    //     );


    // naverLogin.init();
    // naverLogin.getLoginStatus(function (status) {
    //   if (status) {
    //       const nickName=naverLogin.user.getNickName();
    //       const age=naverLogin.user.getAge();
    //       const birthday=naverLogin.user.getBirthday();

    //       if(nickName===null||nickName===undefined ){
    //         alert("ë³„ëª…ì´ í•„ìš”í•©ë‹ˆë‹¤. ì •ë³´ì œê³µì„ ë™ì˜í•´ì£¼ì„¸ìš”.");
    //         naverLogin.reprompt();
    //         return ;  
    //      }else{
    //       setLoginStatus();
    //      }
    // }
    // });
    // console.log(naverLogin);

    // function setLoginStatus(){

    //   const message_area=document.getElementById('message');
    //   message_area.innerHTML=`
    //   <h3> Login ì„±ê³µ </h3>
    //   <div>user Nickname : ${naverLogin.user.nickname}</div>
    //   <div>user Age(ë²”ìœ„) : ${naverLogin.user.email}</div>
    //   <div>user Birthday : ${naverLogin.user.mobile}</div>
    //   `;
    //   const button_area=document.getElementById('button_area');
    //   button_area.innerHTML="<button id='btn_logout'>ë¡œê·¸ì•„ì›ƒ</button>";

    //   const logout=document.getElementById('btn_logout');
    //   logout.addEventListener('click',(e)=>{
    //     naverLogin.logout();
    // location.replace("http://localhost:8889");
    //   })
    // }
      });
      
    </script>
    <script>
      //
    </script>
  </head>
  <body>
    <!-- <div class="ui stackable two column grid">
      <div class="column" style="background-image:url('https://cdn-624f2791c1ac184990d5b36b.closte.com/wp-content/uploads/2020/05/outdoor-rock-climbing-for-beginners-woman-sport-climbing--1638x2048.jpg');background-size: 100%;">

      </div>
      <div class="column"> -->
        <!-- <div id="naverIdLogin"><a id="naverIdLogin_loginButton" href="#" role="button"><img src="https://static.nid.naver.com/oauth/big_g.PNG" width=320></a></div> -->
        <div id="container" class="ui middle aligned center aligned grid" style="height: 100%;"></div>
      <!-- </div> -->
    <!-- </div> -->
  </body>
</html>
